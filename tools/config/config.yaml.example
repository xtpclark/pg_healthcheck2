# AI Configuration (used by both main healthcheck and aidev.py)
ai_provider: openai  # or google, grok, arbitrary
ai_endpoint: https://your_ai_endpoint.com/  # https://your-corporate-llm-proxy.com/, https://api.x.ai/, https://generativelanguage.googleapis.com

ai_api_key: ${AI_API_KEY}  # Or hardcode if not using env vars
ai_temperature: 0.1 # The lower the better
ai_max_output_tokens: 16384 # Maximum number of tokens (words/pieces of words) the AI should generate in its response.
ai_timeout: 300  # 5 minutes

# Corporate Proxy Settings (optional)
ai_user: your-username
ai_user_header: X-User-ID  # Custom header name if required

# Required in some environments - OSX option shown...  Comment out if not needed.

# ssl_cert_path: /opt/homebrew/etc/openssl@3/certs/../cert.pem  

ai_ssl_verify: true  # Set to false to disable SSL verification (not recommended)


# --- Model Definitions ---
# Depending on the stage of the operation, aidev can use a different AI models for those operations.

#
# This is the default/fallback model if the below models are not configured.
ai_model: "gpt-4o" # grok-4-fast
 
# For high-level planning and difficult corrections
high_reasoning_model: "gpt-4o" # gpt-4-turbo, grok-4-fast

# For standard code generation
generation_model: "gpt-4o" # grok-code-fast-1, gpt-3.5-turbo, grok-4-fast

# For fast intent recognition
fast_model: "gpt-3.5-turbo" # grok-4-fast-non-reasoning, gpt-4o

integration_tests:
  enabled: true
  auto_correct: true               # Allow AI to auto-correct test failures
  max_correction_attempts: 3       # Maximum AI correction attempts
  
  # Container settings
  container_timeout: 120            # Seconds to wait for container startup
  cleanup_containers: true         # Stop containers after tests
  
  # Container versions (used when no external server is configured)
  postgres_version: "17"
  mongodb_version: "7.0"
  valkey_version: "7.2"
  cassandra_version: "4.1"
  kafka_version: "latest"          # Redpanda version (Kafka-compatible, fast startup)
  use_redpanda: true               # Use Redpanda instead of Apache Kafka (much faster)

  # External server configurations (optional)
  # Set enabled: true to use instead of containers
  # Can also be overridden by environment variables
  external_servers:
    
    # PostgreSQL external server
    postgres:
      enabled: false  # Set to true to use this config
      host: "postgres.test.local"
      port: 5432
      user: "postgres"
      password: "secret"
      database: "test_db"
      sslmode: "prefer"
    
    # Cassandra external server
    cassandra:
      enabled: false  # Set to true to use this config
      host: "cassandra.test.local"
      port: 9042
      user: "cassandra"
      password: "secret"
      keyspace: "test_keyspace"
      datacenter: "datacenter1"
      
      # SSH configuration (required for nodetool checks)
      ssh:
        host: "cassandra.test.local"  # Can be same or different from CQL host
        user: "ubuntu"
        key_file: "/home/user/.ssh/cassandra_key"
        # OR use password:
        # password: "ssh_password"
        timeout: 10
    
    # MongoDB external server
    mongodb:
      enabled: false
      host: "mongodb.test.local"
      port: 27017
      user: "admin"
      password: "secret"
      database: "test"
      auth_source: "admin"
      # replica_set: "rs0"  # Optional
    
    # Valkey/Redis external server
    valkey:
      enabled: false
      host: "valkey.test.local"
      port: 6379
      password: "secret"
      db: 0
    
    # Kafka external server
    kafka:
      enabled: false
      host: "kafka.test.local"
      port: 9092
      # security_protocol: "SASL_SSL"  # Optional
      # sasl_mechanism: "PLAIN"        # Optional


# Environment Variable Override Examples:
# These take precedence over the config file above
#
# For Cassandra:
#   export CASSANDRA_TEST_HOST=cassandra.prod.com
#   export CASSANDRA_TEST_PORT=9042
#   export CASSANDRA_TEST_USER=cassandra
#   export CASSANDRA_TEST_PASSWORD=secret
#   export CASSANDRA_TEST_KEYSPACE=test_keyspace
#   export CASSANDRA_SSH_HOST=cassandra.prod.com
#   export CASSANDRA_SSH_USER=ubuntu
#   export CASSANDRA_SSH_KEY=/home/user/.ssh/key
#
# For PostgreSQL:
#   export POSTGRES_TEST_HOST=postgres.prod.com
#   export POSTGRES_TEST_PORT=5432
#   export POSTGRES_TEST_USER=postgres
#   export POSTGRES_TEST_PASSWORD=secret
#   export POSTGRES_TEST_DATABASE=test_db
#
# For MongoDB:
#   export MONGODB_TEST_HOST=mongodb.prod.com
#   export MONGODB_TEST_PORT=27017
#   export MONGODB_TEST_USER=admin
#   export MONGODB_TEST_PASSWORD=secret

