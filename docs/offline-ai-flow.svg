<svg contentStyleType='text/css' data-diagram-type='SEQUENCE' height='3463px' preserveAspectRatio='none' style='width:2450px;height:3463px;background:#FFFFFF;' version='1.1' viewBox='0 0 2450 3463' width='2450px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><g><title>offline_ai_processor.py</title><rect fill='#FFFFFF' height='3179.8255' style='stroke:#181818;stroke-width:1;' width='10' x='340.7852' y='208.3719'/></g><g><title>config.yaml</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='533.4633' y='240.0779'/></g><g><title>structured_health_check_findings.json</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='721.2277' y='447.4321'/></g><g><title>Prompt Template</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='928.284' y='2255.5809'/></g><g><title>discover_plugins()</title><rect fill='#FFFFFF' height='95.118' style='stroke:#181818;stroke-width:1;' width='10' x='1068.7285' y='818.3163'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='850.0223'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='95.118' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1007.5524'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='63.412' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1288.6126'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='63.412' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1383.7306'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1393.6868' y='1039.2584'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='380.73' style='stroke:#181818;stroke-width:1;' width='10' x='1393.6868' y='1833.4389'/></g><g><title>utils</title><rect fill='#FFFFFF' height='900.6744' style='stroke:#181818;stroke-width:1;' width='10' x='1609.2059' y='1784.0269'/></g><g><title>utils</title><rect fill='#FFFFFF' height='467.554' style='stroke:#181818;stroke-width:1;' width='10' x='1805.8288' y='2762.1133'/></g><g><title>ai_recommendations.adoc</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1992.5659' y='3307.0794'/></g><g><title>xAI API</title><rect fill='#FFFFFF' height='49.412' style='stroke:#181818;stroke-width:1;' width='10' x='2150.7344' y='2918.3494'/></g><g><title>OpenAI API</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='2259.8751' y='3016.4493'/></g><g><title>Anthropic API</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='2366.8178' y='3096.8433'/></g><rect fill='none' height='358.73' style='stroke:#000000;stroke-width:1.5;' width='442.3776' x='1305.939' y='1848.4389'/><rect fill='none' height='280.3179' style='stroke:#000000;stroke-width:1.5;' width='422.3776' x='1315.939' y='1919.851'/><rect fill='none' height='153.218' style='stroke:#000000;stroke-width:1.5;' width='402.3776' x='1325.939' y='1991.263'/><rect fill='none' height='297.0239' style='stroke:#000000;stroke-width:1.5;' width='715.6511' x='1718.3166' y='2839.5253'/><g><title>User</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='23.3089' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='27' x2='27' y1='58.1358' y2='3406.1974'/></g><g><title>offline_ai_processor.py</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='341.7852' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='345.5775' x2='345.5775' y1='58.1358' y2='3406.1974'/></g><g><title>config.yaml</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='534.4633' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='538.2995' x2='538.2995' y1='58.1358' y2='3406.1974'/></g><g><title>structured_health_check_findings.json</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='722.2277' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='725.6272' x2='725.6272' y1='58.1358' y2='3406.1974'/></g><g><title>Prompt Template</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='929.284' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='932.8282' x2='932.8282' y1='58.1358' y2='3406.1974'/></g><g><title>discover_plugins()</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1069.7285' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1072.7398' x2='1072.7398' y1='58.1358' y2='3406.1974'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1250.5247' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1253.7769' x2='1253.7769' y1='58.1358' y2='3406.1974'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1394.6868' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1397.939' x2='1397.939' y1='58.1358' y2='3406.1974'/></g><g><title>utils</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1610.2059' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1614.0953' x2='1614.0953' y1='58.1358' y2='3406.1974'/></g><g><title>utils</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1806.8288' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1810.3166' x2='1810.3166' y1='58.1358' y2='3406.1974'/></g><g><title>ai_recommendations.adoc</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='1993.5659' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1996.7453' x2='1996.7453' y1='58.1358' y2='3406.1974'/></g><g><title>xAI API</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='2151.7344' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2155.3866' x2='2155.3866' y1='58.1358' y2='3406.1974'/></g><g><title>OpenAI API</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='2260.8751' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2264.0823' x2='2264.0823' y1='58.1358' y2='3406.1974'/></g><g><title>Anthropic API</title><rect fill='#000000' fill-opacity='0.00000' height='3348.0616' width='8' x='2367.8178' y='58.1358'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2371.668' x2='2371.668' y1='58.1358' y2='3406.1974'/></g><g class='participant participant-head' data-participant='User'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='44.6179' x='5' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='30.6179' x='12' y='46.0339'>User</text></g><g class='participant participant-tail' data-participant='User'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='44.6179' x='5' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='30.6179' x='12' y='3427.1633'>User</text></g><g class='participant participant-head' data-participant='Main'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='164.4154' x='263.5775' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='150.4154' x='270.5775' y='26.9659'>offline_ai_processor.py</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='44.2328' x='323.6688' y='46.0339'>main()</text></g><g class='participant participant-tail' data-participant='Main'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='164.4154' x='263.5775' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='150.4154' x='270.5775' y='3427.1633'>offline_ai_processor.py</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='44.2328' x='323.6688' y='3446.2313'>main()</text></g><g class='participant participant-head' data-participant='Config'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='90.3277' x='493.2995' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='76.3277' x='500.2995' y='46.0339'>config.yaml</text></g><g class='participant participant-tail' data-participant='Config'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='90.3277' x='493.2995' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='76.3277' x='500.2995' y='3427.1633'>config.yaml</text></g><g class='participant participant-head' data-participant='Findings'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='265.201' x='593.6272' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='251.201' x='600.6272' y='46.0339'>structured_health_check_findings.json</text></g><g class='participant participant-tail' data-participant='Findings'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='265.201' x='593.6272' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='251.201' x='600.6272' y='3427.1633'>structured_health_check_findings.json</text></g><g class='participant participant-head' data-participant='Template'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='128.9116' x='868.8282' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='114.9116' x='875.8282' y='26.9659'>Prompt Template</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='85.2317' x='890.6681' y='46.0339'>{persona}.j2</text></g><g class='participant participant-tail' data-participant='Template'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='128.9116' x='868.8282' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='114.9116' x='875.8282' y='3427.1633'>Prompt Template</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='85.2317' x='890.6681' y='3446.2313'>{persona}.j2</text></g><g class='participant participant-head' data-participant='Discovery'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='131.9775' x='1007.7398' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='117.9775' x='1014.7398' y='46.0339'>discover_plugins()</text></g><g class='participant participant-tail' data-participant='Discovery'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='131.9775' x='1007.7398' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='117.9775' x='1014.7398' y='3427.1633'>discover_plugins()</text></g><g class='participant participant-head' data-participant='Plugin'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.4956' x='1191.7769' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.4956' x='1198.7769' y='26.9659'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='105.4266' x='1201.8114' y='46.0339'>PostgresPlugin</text></g><g class='participant participant-tail' data-participant='Plugin'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.4956' x='1191.7769' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.4956' x='1198.7769' y='3427.1633'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='105.4266' x='1201.8114' y='3446.2313'>PostgresPlugin</text></g><g class='participant participant-head' data-participant='Rules'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.4956' x='1335.939' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.4956' x='1342.939' y='26.9659'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='82.0117' x='1357.6809' y='46.0339'>rules/*.json</text></g><g class='participant participant-tail' data-participant='Rules'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.4956' x='1335.939' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.4956' x='1342.939' y='3427.1633'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='82.0117' x='1357.6809' y='3446.2313'>rules/*.json</text></g><g class='participant participant-head' data-participant='PromptGen'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='208.2213' x='1510.0953' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.6359' x='1600.388' y='26.9659'>utils</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='194.2213' x='1517.0953' y='46.0339'>dynamic_prompt_generator</text></g><g class='participant participant-tail' data-participant='PromptGen'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='208.2213' x='1510.0953' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.6359' x='1600.388' y='3427.1633'>utils</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='194.2213' x='1517.0953' y='3446.2313'>dynamic_prompt_generator</text></g><g class='participant participant-head' data-participant='AI'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='165.0244' x='1728.3166' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.6359' x='1797.0109' y='26.9659'>utils</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='151.0244' x='1735.3166' y='46.0339'>run_recommendation</text></g><g class='participant participant-tail' data-participant='AI'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='165.0244' x='1728.3166' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.6359' x='1797.0109' y='3427.1633'>utils</text><text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacing' textLength='151.0244' x='1735.3166' y='3446.2313'>run_recommendation</text></g><g class='participant participant-head' data-participant='Output'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='187.6413' x='1903.7453' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='173.6413' x='1910.7453' y='46.0339'>ai_recommendations.adoc</text></g><g class='participant participant-tail' data-participant='Output'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='187.6413' x='1903.7453' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='173.6413' x='1910.7453' y='3427.1633'>ai_recommendations.adoc</text></g><g class='participant participant-head' data-participant='xAI API\nhttps://api.x.ai'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='108.6956' x='2101.3866' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='46.8998' x='2132.2845' y='26.9659'>xAI API</text><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='94.6956' x='2108.3866' y='46.0339'>https://api.x.ai</text></g><g class='participant participant-tail' data-participant='xAI API\nhttps://api.x.ai'><rect fill='#E2E2F0' height='52.1358' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='108.6956' x='2101.3866' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='46.8998' x='2132.2845' y='3427.1633'>xAI API</text><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='94.6956' x='2108.3866' y='3446.2313'>https://api.x.ai</text></g><g class='participant participant-head' data-participant='OpenAI API'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='89.5857' x='2220.0823' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='75.5857' x='2227.0823' y='46.0339'>OpenAI API</text></g><g class='participant participant-tail' data-participant='OpenAI API'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='89.5857' x='2220.0823' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='75.5857' x='2227.0823' y='3427.1633'>OpenAI API</text></g><g class='participant participant-head' data-participant='Anthropic API'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='104.2997' x='2319.668' y='24.0679'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='90.2997' x='2326.668' y='46.0339'>Anthropic API</text></g><g class='participant participant-tail' data-participant='Anthropic API'><rect fill='#E2E2F0' height='33.0679' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='104.2997' x='2319.668' y='3405.1974'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='90.2997' x='2326.668' y='3427.1633'>Anthropic API</text></g><g><title>offline_ai_processor.py</title><rect fill='#FFFFFF' height='3179.8255' style='stroke:#181818;stroke-width:1;' width='10' x='340.7852' y='208.3719'/></g><g><title>config.yaml</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='533.4633' y='240.0779'/></g><g><title>structured_health_check_findings.json</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='721.2277' y='447.4321'/></g><g><title>Prompt Template</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='928.284' y='2255.5809'/></g><g><title>discover_plugins()</title><rect fill='#FFFFFF' height='95.118' style='stroke:#181818;stroke-width:1;' width='10' x='1068.7285' y='818.3163'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='850.0223'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='95.118' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1007.5524'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='63.412' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1288.6126'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='63.412' style='stroke:#181818;stroke-width:1;' width='10' x='1249.5247' y='1383.7306'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1393.6868' y='1039.2584'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='380.73' style='stroke:#181818;stroke-width:1;' width='10' x='1393.6868' y='1833.4389'/></g><g><title>utils</title><rect fill='#FFFFFF' height='900.6744' style='stroke:#181818;stroke-width:1;' width='10' x='1609.2059' y='1784.0269'/></g><g><title>utils</title><rect fill='#FFFFFF' height='467.554' style='stroke:#181818;stroke-width:1;' width='10' x='1805.8288' y='2762.1133'/></g><g><title>ai_recommendations.adoc</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='1992.5659' y='3307.0794'/></g><g><title>xAI API</title><rect fill='#FFFFFF' height='49.412' style='stroke:#181818;stroke-width:1;' width='10' x='2150.7344' y='2918.3494'/></g><g><title>OpenAI API</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='2259.8751' y='3016.4493'/></g><g><title>Anthropic API</title><rect fill='#FFFFFF' height='31.706' style='stroke:#181818;stroke-width:1;' width='10' x='2366.8178' y='3096.8433'/></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='89.9888'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='89.9888' y2='89.9888'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='92.9888' y2='92.9888'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='258.1824' x='1092.8926' y='78.1358'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='240.8024' x='1098.8926' y='96.0328'>Phase 1: Initialization &amp; Data Loading</text><g class='message' data-participant-1='User' data-participant-2='Main'><polygon fill='#181818' points='328.7852,204.3719,338.7852,208.3719,328.7852,212.3719,332.7852,208.3719' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='27.3089' x2='334.7852' y1='208.3719' y2='208.3719'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='186.3032' x='34.3089' y='131.7389'>python offline_ai_processor.py</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='179.1272' x='34.3089' y='149.4449'>--config config/postgres.yaml</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='294.4763' x='34.3089' y='167.1509'>--findings structured_health_check_findings.json</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='262.9252' x='34.3089' y='184.8569'>--template executive_summary_template.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='188.1362' x='34.3089' y='202.5629'>--output executive_report.adoc</text></g><g class='message' data-participant-1='Main' data-participant-2='Config'><polygon fill='#181818' points='521.4633,236.0779,531.4633,240.0779,521.4633,244.0779,525.4633,240.0779' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='527.4633' y1='240.0779' y2='240.0779'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='88.6341' x='357.7852' y='234.2689'>load_settings()</text></g><g class='message' data-participant-1='Config' data-participant-2='Main'><polygon fill='#181818' points='361.7852,267.784,351.7852,271.784,361.7852,275.784,357.7852,271.784' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='537.4633' y1='271.784' y2='271.784'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='74.2171' x='367.7852' y='265.975'>settings dict</text></g><path d='M355,284.784 L355,417.784 L680,417.784 L680,294.784 L670,284.784 L355,284.784' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M670,284.784 L670,294.784 L680,294.784 L670,284.784' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='107.1721' x='361' y='303.681'>Settings include:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='116.5451' x='361' y='321.387'>- db_type: postgres</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='100.2561' x='361' y='339.093'>- ai_provider: xai</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='143.2731' x='361' y='356.799'>- ai_model: grok-2-1212</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='304.0052' x='361' y='374.505'>- ai_endpoint: https://api.x.ai/v1/chat/completions</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='121.9141' x='361' y='392.2111'>- ai_api_key: [secret]</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='297.1413' x='361' y='409.9171'>- prompt_template: (optional, can be overridden)</text><g class='message' data-participant-1='Main' data-participant-2='Findings'><polygon fill='#181818' points='709.2277,443.4321,719.2277,447.4321,709.2277,451.4321,713.2277,447.4321' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='715.2277' y1='447.4321' y2='447.4321'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='82.4981' x='357.7852' y='441.6231'>load JSON file</text></g><g class='message' data-participant-1='Findings' data-participant-2='Main'><polygon fill='#181818' points='361.7852,475.1381,351.7852,479.1381,361.7852,483.1381,357.7852,479.1381' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='725.2277' y1='479.1381' y2='479.1381'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164.6582' x='367.7852' y='473.3291'>all_structured_findings dict</text></g><path d='M355,492.1381 L355,625.1381 L556,625.1381 L556,502.1381 L546,492.1381 L355,492.1381' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M546,492.1381 L546,502.1381 L556,502.1381 L546,492.1381' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='180.6807' x='361' y='511.0351'>Structured findings contain:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164.6192' x='361' y='528.7411'>- check_replication_lag: {...}</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='106.5221' x='361' y='546.4472'>- check_bloat: {...}</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='158.5872' x='361' y='564.1532'>- check_vacuum_stats: {...}</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='151.5671' x='361' y='581.8592'>- check_index_usage: {...}</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='119.7821' x='361' y='599.5652'>- security_audit: {...}</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='149.5781' x='361' y='617.2712'>- [all other check results]</text><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='392.7852' y1='654.7862' y2='654.7862'/><line style='stroke:#181818;stroke-width:1;' x1='392.7852' x2='392.7852' y1='654.7862' y2='667.7862'/><line style='stroke:#181818;stroke-width:1;' x1='351.7852' x2='392.7852' y1='667.7862' y2='667.7862'/><polygon fill='#181818' points='361.7852,663.7862,351.7852,667.7862,361.7852,671.7862,357.7852,667.7862' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='158.6781' x='357.7852' y='648.9772'>apply_template_override()</text></g><path d='M355,680.7862 L355,743.7862 L592,743.7862 L592,690.7862 L582,680.7862 L355,680.7862' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M582,680.7862 L582,690.7862 L592,690.7862 L582,680.7862' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='136.8511' x='361' y='699.6833'>If --template provided,</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='216.3722' x='361' y='717.3893'>update settings['prompt_template']</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='139.6201' x='361' y='735.0953'>to use custom persona</text><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='770.7573'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='770.7573' y2='770.7573'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='773.7573' y2='773.7573'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='289.194' x='1077.3868' y='758.9043'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='271.814' x='1083.3868' y='776.8013'>Phase 2: Plugin Discovery &amp; Rules Loading</text><g class='message' data-participant-1='Main' data-participant-2='Discovery'><polygon fill='#181818' points='1056.7285,814.3163,1066.7285,818.3163,1056.7285,822.3163,1060.7285,818.3163' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1062.7285' y1='818.3163' y2='818.3163'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='109.5511' x='357.7852' y='812.5073'>discover_plugins()</text></g><g class='message' data-participant-1='Discovery' data-participant-2='Plugin'><polygon fill='#181818' points='1237.5247,846.0223,1247.5247,850.0223,1237.5247,854.0223,1241.5247,850.0223' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1078.7285' x2='1243.5247' y1='850.0223' y2='850.0223'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='122.7071' x='1085.7285' y='844.2133'>import &amp; instantiate</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Discovery'><polygon fill='#181818' points='1089.7285,877.7284,1079.7285,881.7284,1089.7285,885.7284,1085.7285,881.7284' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1083.7285' x2='1253.5247' y1='881.7284' y2='881.7284'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='146.7961' x='1095.7285' y='875.9194'>PostgresPlugin instance</text></g><g class='message' data-participant-1='Discovery' data-participant-2='Main'><polygon fill='#181818' points='361.7852,909.4344,351.7852,913.4344,361.7852,917.4344,357.7852,913.4344' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1072.7285' y1='913.4344' y2='913.4344'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='130.2991' x='367.7852' y='907.6254'>available_plugins dict</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='392.7852' y1='962.8464' y2='962.8464'/><line style='stroke:#181818;stroke-width:1;' x1='392.7852' x2='392.7852' y1='962.8464' y2='975.8464'/><line style='stroke:#181818;stroke-width:1;' x1='351.7852' x2='392.7852' y1='975.8464' y2='975.8464'/><polygon fill='#181818' points='361.7852,971.8464,351.7852,975.8464,361.7852,979.8464,357.7852,975.8464' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='118.6121' x='357.7852' y='939.3314'>select active_plugin</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='107.9131' x='357.7852' y='957.0374'>based on db_type</text></g><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='1237.5247,1003.5524,1247.5247,1007.5524,1237.5247,1011.5524,1241.5247,1007.5524' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1243.5247' y1='1007.5524' y2='1007.5524'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='107.6401' x='357.7852' y='1001.7434'>get_rules_config()</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Rules'><polygon fill='#181818' points='1381.6868,1035.2584,1391.6868,1039.2584,1381.6868,1043.2584,1385.6868,1039.2584' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1259.5247' x2='1387.6868' y1='1039.2584' y2='1039.2584'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='111.5141' x='1266.5247' y='1033.4494'>load all *.json files</text></g><g class='message' data-participant-1='Rules' data-participant-2='Plugin'><polygon fill='#181818' points='1270.5247,1066.9645,1260.5247,1070.9645,1270.5247,1074.9645,1266.5247,1070.9645' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1264.5247' x2='1397.6868' y1='1070.9645' y2='1070.9645'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='110.1621' x='1276.5247' y='1065.1555'>analysis_rules dict</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='361.7852,1098.6705,351.7852,1102.6705,361.7852,1106.6705,357.7852,1102.6705' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1253.5247' y1='1102.6705' y2='1102.6705'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='84.5001' x='367.7852' y='1096.8615'>analysis_rules</text></g><path d='M355,1115.6705 L355,1213.6705 L554,1213.6705 L554,1125.6705 L544,1115.6705 L355,1115.6705' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M544,1115.6705 L544,1125.6705 L554,1125.6705 L544,1115.6705' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='171.3792' x='361' y='1134.5675'>Rules contain expressions:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='115.9731' x='361' y='1152.2735'>- critical thresholds</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='178.3212' x='361' y='1169.9795'>- high/medium/low severities</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='133.5231' x='361' y='1187.6855'>- reasoning templates</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='119.5091' x='361' y='1205.3916'>- recommendations</text><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='1241.0536'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='1241.0536' y2='1241.0536'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='1244.0536' y2='1244.0536'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='205.3764' x='1119.2956' y='1229.2006'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='187.9964' x='1125.2956' y='1247.0976'>Phase 3: Metadata Extraction</text><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='1237.5247,1284.6126,1247.5247,1288.6126,1237.5247,1292.6126,1241.5247,1288.6126' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1243.5247' y1='1288.6126' y2='1288.6126'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='240.4742' x='357.7852' y='1282.8036'>get_db_version_from_findings(findings)</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Findings'><polygon fill='#181818' points='737.2277,1316.3186,727.2277,1320.3186,737.2277,1324.3186,733.2277,1320.3186' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='731.2277' x2='1248.5247' y1='1320.3186' y2='1320.3186'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='186.0301' x='743.2277' y='1314.5096'>extract version from metadata</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='361.7852,1348.0246,351.7852,1352.0246,361.7852,1356.0246,357.7852,1352.0246' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1253.5247' y1='1352.0246' y2='1352.0246'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='150.7222' x='367.7852' y='1346.2156'>db_version (e.g., "16.10")</text></g><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='1237.5247,1379.7306,1247.5247,1383.7306,1237.5247,1387.7306,1241.5247,1383.7306' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1243.5247' y1='1383.7306' y2='1383.7306'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='230.5032' x='357.7852' y='1377.9216'>get_db_name_from_findings(findings)</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Findings'><polygon fill='#181818' points='737.2277,1411.4367,727.2277,1415.4367,737.2277,1419.4367,733.2277,1415.4367' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='731.2277' x2='1248.5247' y1='1415.4367' y2='1415.4367'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='140.1921' x='743.2277' y='1409.6277'>extract database name</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='361.7852,1443.1427,351.7852,1447.1427,361.7852,1451.1427,357.7852,1447.1427' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1253.5247' y1='1447.1427' y2='1447.1427'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='161.2262' x='367.7852' y='1441.3337'>db_name (e.g., "postgres")</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='392.7852' y1='1478.8487' y2='1478.8487'/><line style='stroke:#181818;stroke-width:1;' x1='392.7852' x2='392.7852' y1='1478.8487' y2='1491.8487'/><line style='stroke:#181818;stroke-width:1;' x1='351.7852' x2='392.7852' y1='1491.8487' y2='1491.8487'/><polygon fill='#181818' points='361.7852,1487.8487,351.7852,1491.8487,361.7852,1495.8487,357.7852,1491.8487' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='147.8101' x='357.7852' y='1473.0397'>create db_metadata dict</text></g><path d='M355,1504.8487 L355,1620.8487 L537,1620.8487 L537,1514.8487 L527,1504.8487 L355,1504.8487' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M527,1504.8487 L527,1514.8487 L537,1514.8487 L527,1504.8487' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='92.8103' x='361' y='1523.7457'>Metadata dict:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='103.0511' x='361' y='1541.4517'>- version: "16.10"</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='135.3171' x='361' y='1559.1577'>- db_name: "postgres"</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='161.0052' x='361' y='1576.8638'>- environment: "unknown"</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='152.0221' x='367.76' y='1594.5698'>(no connection available)</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='149.1361' x='361' y='1612.2758'>- environment_details: {}</text><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='1647.9378'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='1647.9378' y2='1647.9378'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='1650.9378' y2='1650.9378'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='258.6667' x='1092.6505' y='1636.0848'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='241.2867' x='1098.6505' y='1653.9818'>Phase 4: Dynamic Prompt Generation</text><g class='message' data-participant-1='Main' data-participant-2='PromptGen'><polygon fill='#181818' points='1597.2059,1780.0269,1607.2059,1784.0269,1597.2059,1788.0269,1601.2059,1784.0269' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1603.2059' y1='1784.0269' y2='1784.0269'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='168.5972' x='357.7852' y='1689.6878'>generate_dynamic_prompt(</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='52.9491' x='364.5452' y='1707.3938'>findings,</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='52.0391' x='364.5452' y='1725.0999'>settings,</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='87.9841' x='364.5452' y='1742.8059'>analysis_rules,</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='83.9931' x='364.5452' y='1760.5119'>db_metadata,</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='83.9541' x='364.5452' y='1778.2179'>active_plugin)</text></g><g class='message' data-participant-1='PromptGen' data-participant-2='Rules'><polygon fill='#181818' points='1414.6868,1829.4389,1404.6868,1833.4389,1414.6868,1837.4389,1410.6868,1833.4389' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1408.6868' x2='1608.2059' y1='1833.4389' y2='1833.4389'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='128.1541' x='1420.6868' y='1809.9239'>evaluate expressions</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='128.3881' x='1420.6868' y='1827.6299'>against findings data</text></g><path d='M1305.939,1848.4389 L1379.643,1848.4389 L1379.643,1858.145 L1369.643,1868.145 L1305.939,1868.145 L1305.939,1848.4389' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='358.73' style='stroke:#000000;stroke-width:1.5;' width='442.3776' x='1305.939' y='1848.4389'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='28.704' x='1320.939' y='1863.336'>loop</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='99.0681' x='1394.643' y='1862.1979'>[For each rule file]</text><g class='message' data-participant-1='Rules' data-participant-2='Rules'><line style='stroke:#181818;stroke-width:1;' x1='1403.6868' x2='1445.6868' y1='1891.851' y2='1891.851'/><line style='stroke:#181818;stroke-width:1;' x1='1445.6868' x2='1445.6868' y1='1891.851' y2='1904.851'/><line style='stroke:#181818;stroke-width:1;' x1='1404.6868' x2='1445.6868' y1='1904.851' y2='1904.851'/><polygon fill='#181818' points='1414.6868,1900.851,1404.6868,1904.851,1414.6868,1908.851,1410.6868,1904.851' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='134.8751' x='1410.6868' y='1886.042'>check data_conditions</text></g><path d='M1315.939,1919.851 L1377.4977,1919.851 L1377.4977,1929.557 L1367.4977,1939.557 L1315.939,1939.557 L1315.939,1919.851' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='280.3179' style='stroke:#000000;stroke-width:1.5;' width='422.3776' x='1315.939' y='1919.851'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='16.5588' x='1330.939' y='1934.748'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='103.9851' x='1392.4977' y='1933.6099'>[Conditions match]</text><g class='message' data-participant-1='Rules' data-participant-2='Rules'><line style='stroke:#181818;stroke-width:1;' x1='1403.6868' x2='1445.6868' y1='1963.263' y2='1963.263'/><line style='stroke:#181818;stroke-width:1;' x1='1445.6868' x2='1445.6868' y1='1963.263' y2='1976.263'/><line style='stroke:#181818;stroke-width:1;' x1='1404.6868' x2='1445.6868' y1='1976.263' y2='1976.263'/><polygon fill='#181818' points='1414.6868,1972.263,1404.6868,1976.263,1414.6868,1980.263,1410.6868,1976.263' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='181.5192' x='1410.6868' y='1957.454'>eval(expression) with findings</text></g><path d='M1325.939,1991.263 L1387.4977,1991.263 L1387.4977,2000.969 L1377.4977,2010.969 L1325.939,2010.969 L1325.939,1991.263' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='153.218' style='stroke:#000000;stroke-width:1.5;' width='402.3776' x='1325.939' y='1991.263'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='16.5588' x='1340.939' y='2006.16'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='164.8751' x='1402.4977' y='2005.0219'>[Expression evaluates to True]</text><g class='message' data-participant-1='Rules' data-participant-2='PromptGen'><polygon fill='#181818' points='1597.2059,2083.7931,1607.2059,2087.7931,1597.2059,2091.7931,1601.2059,2087.7931' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1403.6868' x2='1603.2059' y1='2087.7931' y2='2087.7931'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='70.6811' x='1410.6868' y='2028.866'>TRIGGERED</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='72.3191' x='1410.6868' y='2046.5721'>+ reasoning</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='122.7591' x='1410.6868' y='2064.2781'>+ recommendations</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='94.7701' x='1410.6868' y='2081.9841'>+ severity score</text></g><line style='stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1325.939' x2='1728.3166' y1='2096.7931' y2='2096.7931'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='110.0625' x='1330.939' y='2108.552'>[Expression is False]</text><g class='message' data-participant-1='Rules' data-participant-2='PromptGen'><polygon fill='#181818' points='1597.2059,2132.481,1607.2059,2136.481,1597.2059,2140.481,1601.2059,2136.481' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1403.6868' x2='1603.2059' y1='2136.481' y2='2136.481'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='123.0321' x='1410.6868' y='2130.672'>PASS (not triggered)</text></g><line style='stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1315.939' x2='1738.3166' y1='2152.481' y2='2152.481'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='135.2276' x='1320.939' y='2164.2399'>[Conditions don't match]</text><g class='message' data-participant-1='Rules' data-participant-2='PromptGen'><polygon fill='#181818' points='1597.2059,2188.1689,1607.2059,2192.1689,1597.2059,2196.1689,1601.2059,2192.1689' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1403.6868' x2='1603.2059' y1='2192.1689' y2='2192.1689'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='124.8131' x='1410.6868' y='2186.3599'>SKIP (not applicable)</text></g><g class='message' data-participant-1='PromptGen' data-participant-2='Template'><polygon fill='#181818' points='949.284,2251.5809,939.284,2255.5809,949.284,2259.5809,945.284,2255.5809' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='943.284' x2='1608.2059' y1='2255.5809' y2='2255.5809'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='121.1341' x='955.284' y='2232.0659'>load Jinja2 template</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='215.3842' x='955.284' y='2249.7719'>(from plugin's templates/prompts/)</text></g><g class='message' data-participant-1='Template' data-participant-2='PromptGen'><polygon fill='#181818' points='1597.2059,2283.2869,1607.2059,2287.2869,1597.2059,2291.2869,1601.2059,2287.2869' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='933.284' x2='1603.2059' y1='2287.2869' y2='2287.2869'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='105.1181' x='940.284' y='2281.4779'>template content</text></g><path d='M1624,2300.2869 L1624,2504.2869 L1848,2504.2869 L1848,2310.2869 L1838,2300.2869 L1624,2300.2869' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M1838,2300.2869 L1838,2310.2869 L1848,2310.2869 L1838,2300.2869' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='130.5428' x='1630' y='2319.184'>Available templates:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='116.8571' x='1630' y='2336.89'>- default_prompt.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164.2551' x='1636.76' y='2354.596'>(general technical analysis)</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='203.8922' x='1630' y='2372.302'>- executive_summary_template.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='142.5582' x='1636.76' y='2390.008'>(business impact focus)</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='167.4792' x='1630' y='2407.714'>- security_audit_template.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='106.5741' x='1636.76' y='2425.4201'>(security posture)</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='197.5742' x='1630' y='2443.1261'>- developer_focused_template.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='135.2261' x='1636.76' y='2460.8321'>(schema optimization)</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='202.4232' x='1630' y='2478.5381'>- operations_focused_template.j2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='130.7801' x='1636.76' y='2496.2441'>(performance tuning)</text><g class='message' data-participant-1='PromptGen' data-participant-2='PromptGen'><line style='stroke:#181818;stroke-width:1;' x1='1619.2059' x2='1661.2059' y1='2622.2892' y2='2622.2892'/><line style='stroke:#181818;stroke-width:1;' x1='1661.2059' x2='1661.2059' y1='2622.2892' y2='2635.2892'/><line style='stroke:#181818;stroke-width:1;' x1='1620.2059' x2='1661.2059' y1='2635.2892' y2='2635.2892'/><polygon fill='#181818' points='1630.2059,2631.2892,1620.2059,2635.2892,1630.2059,2639.2892,1626.2059,2635.2892' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='132.8211' x='1626.2059' y='2527.9501'>render template with:</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='111.8261' x='1626.2059' y='2545.6562'>- postgres_version</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='104.2731' x='1626.2059' y='2563.3622'>- database_name</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='111.6441' x='1626.2059' y='2581.0682'>- critical_issues list</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='149.5652' x='1626.2059' y='2598.7742'>- high_priority_issues list</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='149.3312' x='1626.2059' y='2616.4802'>- findings_json (full data)</text></g><g class='message' data-participant-1='PromptGen' data-participant-2='Main'><polygon fill='#181818' points='361.7852,2680.7013,351.7852,2684.7013,361.7852,2688.7013,357.7852,2684.7013' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1613.2059' y1='2684.7013' y2='2684.7013'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='131.5471' x='367.7852' y='2661.1862'>dynamic_analysis dict</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='210.1322' x='367.7852' y='2678.8923'>{prompt: "...", triggered_rules: [...]}</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='2714.5543'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='2714.5543' y2='2714.5543'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='2717.5543' y2='2717.5543'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='221.7272' x='1111.1202' y='2702.7013'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='204.3472' x='1117.1202' y='2720.5983'>Phase 5: AI Provider Interaction</text><g class='message' data-participant-1='Main' data-participant-2='AI'><polygon fill='#181818' points='1793.8288,2758.1133,1803.8288,2762.1133,1793.8288,2766.1133,1797.8288,2762.1133' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1799.8288' y1='2762.1133' y2='2762.1133'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='267.2023' x='357.7852' y='2756.3043'>run_recommendation(settings, full_prompt)</text></g><g class='message' data-participant-1='AI' data-participant-2='AI'><line style='stroke:#181818;stroke-width:1;' x1='1815.8288' x2='1857.8288' y1='2811.5253' y2='2811.5253'/><line style='stroke:#181818;stroke-width:1;' x1='1857.8288' x2='1857.8288' y1='2811.5253' y2='2824.5253'/><line style='stroke:#181818;stroke-width:1;' x1='1816.8288' x2='1857.8288' y1='2824.5253' y2='2824.5253'/><polygon fill='#181818' points='1826.8288,2820.5253,1816.8288,2824.5253,1826.8288,2828.5253,1822.8288,2824.5253' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='152.7371' x='1822.8288' y='2788.0103'>extract provider &amp; model</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='81.7961' x='1822.8288' y='2805.7163'>from settings</text></g><path d='M1718.3166,2839.5253 L1779.8754,2839.5253 L1779.8754,2849.2313 L1769.8754,2859.2313 L1718.3166,2859.2313 L1718.3166,2839.5253' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='297.0239' style='stroke:#000000;stroke-width:1.5;' width='715.6511' x='1718.3166' y='2839.5253'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='16.5588' x='1733.3166' y='2854.4223'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='129.1336' x='1794.8754' y='2853.2842'>[AI Provider: xAI (Grok)]</text><g class='message' data-participant-1='AI' data-participant-2='xAI API\nhttps://api.x.ai'><polygon fill='#181818' points='2138.7344,2914.3494,2148.7344,2918.3494,2138.7344,2922.3494,2142.7344,2918.3494' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1815.8288' x2='2144.7344' y1='2918.3494' y2='2918.3494'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='165.6852' x='1822.8288' y='2877.1284'>POST /v1/chat/completions</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='130.1041' x='1822.8288' y='2894.8344'>+ model: grok-2-1212</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='56.8881' x='1822.8288' y='2912.5404'>+ prompt</text></g><g class='message' data-participant-1='xAI API\nhttps://api.x.ai' data-participant-2='AI'><polygon fill='#181818' points='1826.8288,2963.7614,1816.8288,2967.7614,1826.8288,2971.7614,1822.8288,2967.7614' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1820.8288' x2='2154.7344' y1='2967.7614' y2='2967.7614'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='90.4801' x='1832.8288' y='2944.2464'>JSON response</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='226.5902' x='1832.8288' y='2961.9524'>{choices: [{message: {content: "..."}}]}</text></g><line style='stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1718.3166' x2='2433.9676' y1='2976.7614' y2='2976.7614'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='116.1015' x='1723.3166' y='2988.5203'>[AI Provider: OpenAI]</text><g class='message' data-participant-1='AI' data-participant-2='OpenAI API'><polygon fill='#181818' points='2247.8751,3012.4493,2257.8751,3016.4493,2247.8751,3020.4493,2251.8751,3016.4493' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1815.8288' x2='2253.8751' y1='3016.4493' y2='3016.4493'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='165.6852' x='1822.8288' y='3010.6403'>POST /v1/chat/completions</text></g><g class='message' data-participant-1='OpenAI API' data-participant-2='AI'><polygon fill='#181818' points='1826.8288,3044.1553,1816.8288,3048.1553,1826.8288,3052.1553,1822.8288,3048.1553' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1820.8288' x2='2263.8751' y1='3048.1553' y2='3048.1553'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='90.4801' x='1832.8288' y='3042.3463'>JSON response</text></g><line style='stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1718.3166' x2='2433.9676' y1='3057.1553' y2='3057.1553'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='128.6936' x='1723.3166' y='3068.9143'>[AI Provider: Anthropic]</text><g class='message' data-participant-1='AI' data-participant-2='Anthropic API'><polygon fill='#181818' points='2354.8178,3092.8433,2364.8178,3096.8433,2354.8178,3100.8433,2358.8178,3096.8433' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1815.8288' x2='2360.8178' y1='3096.8433' y2='3096.8433'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='120.2631' x='1822.8288' y='3091.0343'>POST /v1/messages</text></g><g class='message' data-participant-1='Anthropic API' data-participant-2='AI'><polygon fill='#181818' points='1826.8288,3124.5493,1816.8288,3128.5493,1826.8288,3132.5493,1822.8288,3128.5493' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1820.8288' x2='2370.8178' y1='3128.5493' y2='3128.5493'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='90.4801' x='1832.8288' y='3122.7403'>JSON response</text></g><g class='message' data-participant-1='AI' data-participant-2='AI'><line style='stroke:#181818;stroke-width:1;' x1='1815.8288' x2='1857.8288' y1='3184.9613' y2='3184.9613'/><line style='stroke:#181818;stroke-width:1;' x1='1857.8288' x2='1857.8288' y1='3184.9613' y2='3197.9613'/><line style='stroke:#181818;stroke-width:1;' x1='1816.8288' x2='1857.8288' y1='3197.9613' y2='3197.9613'/><polygon fill='#181818' points='1826.8288,3193.9613,1816.8288,3197.9613,1826.8288,3201.9613,1822.8288,3197.9613' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='144.2481' x='1822.8288' y='3161.4463'>parse response content</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='113.2041' x='1822.8288' y='3179.1523'>format as AsciiDoc</text></g><g class='message' data-participant-1='AI' data-participant-2='Main'><polygon fill='#181818' points='361.7852,3225.6673,351.7852,3229.6673,361.7852,3233.6673,357.7852,3229.6673' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1809.8288' y1='3229.6673' y2='3229.6673'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='181.3761' x='367.7852' y='3223.8583'>(ai_adoc, response_metadata)</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2443.9676' x='0' y='3259.5203'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='3259.5203' y2='3259.5203'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2443.9676' y1='3262.5203' y2='3262.5203'/><rect fill='#EEEEEE' height='25.706' style='stroke:#000000;stroke-width:2;' width='196.9069' x='1123.5304' y='3247.6673'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='179.5269' x='1129.5304' y='3265.5643'>Phase 6: Output Generation</text><g class='message' data-participant-1='Main' data-participant-2='Output'><polygon fill='#181818' points='1980.5659,3303.0794,1990.5659,3307.0794,1980.5659,3311.0794,1984.5659,3307.0794' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='350.7852' x2='1986.5659' y1='3307.0794' y2='3307.0794'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='130.4291' x='357.7852' y='3301.2703'>write ai_adoc content</text></g><g class='message' data-participant-1='Output' data-participant-2='Main'><polygon fill='#181818' points='361.7852,3334.7854,351.7852,3338.7854,361.7852,3342.7854,357.7852,3338.7854' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='355.7852' x2='1996.5659' y1='3338.7854' y2='3338.7854'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='65.5851' x='367.7852' y='3332.9764'>file written</text></g><g class='message' data-participant-1='Main' data-participant-2='User'><polygon fill='#181818' points='38.3089,3384.1974,28.3089,3388.1974,38.3089,3392.1974,34.3089,3388.1974' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='32.3089' x2='344.7852' y1='3388.1974' y2='3388.1974'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='144.7161' x='44.3089' y='3364.6824'>&#9989; AI analysis complete.</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='187.9542' x='44.3089' y='3382.3884'>Report saved to: {output_path}</text></g></g></svg>