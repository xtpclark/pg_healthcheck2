<svg contentStyleType='text/css' data-diagram-type='SEQUENCE' height='3775px' preserveAspectRatio='none' style='width:2551px;height:3775px;' version='1.1' viewBox='0 0 2551 3775' width='2551px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><g><title>main.py</title><rect fill='#FFFFFF' height='3501.8319' style='stroke:#181818;stroke-width:1;' width='10' x='314.572' y='174.3765'/></g><g><title>main.py</title><rect fill='#FFFFFF' height='273.097' style='stroke:#181818;stroke-width:1;' width='10' x='319.572' y='2661.7555'/></g><g><title>config.yaml</title><rect fill='#FFFFFF' height='79.3765' style='stroke:#181818;stroke-width:1;' width='10' x='605.5937' y='204.7206'/></g><g><title>discover_plugins()</title><rect fill='#FFFFFF' height='160.0647' style='stroke:#181818;stroke-width:1;' width='10' x='712.8683' y='314.4411'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='3287.7349' style='stroke:#181818;stroke-width:1;' width='10' x='916.1775' y='397.4735'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='339.8499' style='stroke:#181818;stroke-width:1;' width='10' x='921.1775' y='1537.9263'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='73.6882' style='stroke:#181818;stroke-width:1;' width='10' x='1057.4942' y='535.1941'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='1057.4942' y='1170.141'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='1227.1912' y='699.9146'/></g><g><title>utils</title><rect fill='#FFFFFF' height='611.6029' style='stroke:#181818;stroke-width:1;' width='10' x='1347.5563' y='851.6352'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='209.097' style='stroke:#181818;stroke-width:1;' width='10' x='1576.1058' y='1021.7322'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='279.1617' style='stroke:#181818;stroke-width:1;' width='10' x='1702.624' y='1568.2704'/></g><g><title>utils</title><rect fill='#FFFFFF' height='175.4088' style='stroke:#181818;stroke-width:1;' width='10' x='1857.6469' y='1957.1527'/></g><g><title>utils</title><rect fill='#FFFFFF' height='159.0647' style='stroke:#181818;stroke-width:1;' width='10' x='2064.8921' y='2326.3144'/></g><g><title>output_handlers</title><rect fill='#FFFFFF' height='412.1941' style='stroke:#181818;stroke-width:1;' width='10' x='2200.1058' y='3210.3261'/></g><g><title>PostgreSQL</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='2470.0195' y='3434.7672'/></g><g><title>PostgreSQL</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='2470.0195' y='3554.8319'/></g><rect fill='none' height='550.9146' style='stroke:#000000;stroke-width:1.5;' width='801.7991' x='977.7099' y='866.6352'/><rect fill='none' height='473.8823' style='stroke:#000000;stroke-width:1.5;' width='781.7991' x='987.7099' y='936.6675'/><rect fill='none' height='440.1941' style='stroke:#000000;stroke-width:1.5;' width='761.7991' x='997.7099' y='963.3558'/><rect fill='none' height='328.4735' style='stroke:#000000;stroke-width:1.5;' width='2000.5979' x='264.9232' y='2251.5938'/><rect fill='none' height='527.6029' style='stroke:#000000;stroke-width:1.5;' width='2270.0726' x='264.9232' y='3102.9173'/><rect fill='none' height='113.0647' style='stroke:#000000;stroke-width:1.5;' width='383.3783' x='2141.6175' y='3480.1113'/><g><title>User</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='17.1221' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='21' x2='21' y1='81.3441' y2='3694.2083'/></g><g><title>main.py</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='315.572' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='318.9232' x2='318.9232' y1='81.3441' y2='3694.2083'/></g><g><title>config.yaml</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='606.5937' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='609.8815' x2='609.8815' y1='81.3441' y2='3694.2083'/></g><g><title>discover_plugins()</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='713.8683' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='717.3059' x2='717.3059' y1='81.3441' y2='3694.2083'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='917.1775' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='920.3931' x2='920.3931' y1='81.3441' y2='3694.2083'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1058.4942' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1061.7099' x2='1061.7099' y1='81.3441' y2='3694.2083'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1228.1912' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1231.5998' x2='1231.5998' y1='81.3441' y2='3694.2083'/></g><g><title>utils</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1348.5563' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1351.7826' x2='1351.7826' y1='81.3441' y2='3694.2083'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1577.1058' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1580.3719' x2='1580.3719' y1='81.3441' y2='3694.2083'/></g><g><title>plugins/postgres</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1703.624' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1706.8396' x2='1706.8396' y1='81.3441' y2='3694.2083'/></g><g><title>utils</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='1858.6469' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1862.4083' x2='1862.4083' y1='81.3441' y2='3694.2083'/></g><g><title>utils</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='2065.8921' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2069.1667' x2='2069.1667' y1='81.3441' y2='3694.2083'/></g><g><title>output_handlers</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='2201.1058' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2204.6175' x2='2204.6175' y1='81.3441' y2='3694.2083'/></g><g><title>PostgreSQL</title><rect fill='#000000' fill-opacity='0.00000' height='3612.8642' width='8' x='2471.0195' y='81.3441'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='2474.0433' x2='2474.0433' y1='81.3441' y2='3694.2083'/></g><g class='participant participant-head' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='26.2442' x='5' y='77.8281'>User</text><ellipse cx='21.1221' cy='13.5' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M21.1221,21.5 L21.1221,48.5 M8.1221,29.5 L34.1221,29.5 M21.1221,48.5 L8.1221,63.5 M21.1221,48.5 L34.1221,63.5' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-tail' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='26.2442' x='5' y='3706.0364'>User</text><ellipse cx='21.1221' cy='3718.0525' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M21.1221,3726.0525 L21.1221,3753.0525 M8.1221,3734.0525 L34.1221,3734.0525 M21.1221,3753.0525 L8.1221,3768.0525 M21.1221,3753.0525 L34.1221,3768.0525' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-head' data-participant='Main'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='89.2975' x='274.9232' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='45.1803' x='296.9818' y='53.484'>main.py</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='75.2975' x='281.9232' y='69.8281'>HealthCheck</text></g><g class='participant participant-tail' data-participant='Main'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='89.2975' x='274.9232' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='45.1803' x='296.9818' y='3713.0364'>main.py</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='75.2975' x='281.9232' y='3729.3805'>HealthCheck</text></g><g class='participant participant-head' data-participant='Config'><rect fill='#E2E2F0' height='30.3441' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='79.4245' x='570.8815' y='50'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='65.4245' x='577.8815' y='69.8281'>config.yaml</text></g><g class='participant participant-tail' data-participant='Config'><rect fill='#E2E2F0' height='30.3441' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='79.4245' x='570.8815' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='65.4245' x='577.8815' y='3713.0364'>config.yaml</text></g><g class='participant participant-head' data-participant='Discovery'><rect fill='#E2E2F0' height='30.3441' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='115.1247' x='660.3059' y='50'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='101.1247' x='667.3059' y='69.8281'>discover_plugins()</text></g><g class='participant participant-tail' data-participant='Discovery'><rect fill='#E2E2F0' height='30.3441' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='115.1247' x='660.3059' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='101.1247' x='667.3059' y='3713.0364'>discover_plugins()</text></g><g class='participant participant-head' data-participant='Plugin'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='866.3931' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='873.3931' y='53.484'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='90.3666' x='875.9941' y='69.8281'>PostgresPlugin</text></g><g class='participant participant-tail' data-participant='Plugin'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='866.3931' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='873.3931' y='3713.0364'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='90.3666' x='875.9941' y='3729.3805'>PostgresPlugin</text></g><g class='participant participant-head' data-participant='Connector'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='1007.7099' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1014.7099' y='53.484'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='78.1445' x='1023.422' y='69.8281'>connector.py</text></g><g class='participant participant-tail' data-participant='Connector'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='1007.7099' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1014.7099' y='3713.0364'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='78.1445' x='1023.422' y='3729.3805'>connector.py</text></g><g class='participant participant-head' data-participant='ReportDef'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='123.1827' x='1170.5998' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1184.4068' y='53.484'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='109.1827' x='1177.5998' y='69.8281'>reports/default.py</text></g><g class='participant participant-tail' data-participant='ReportDef'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='123.1827' x='1170.5998' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1184.4068' y='3713.0364'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='109.1827' x='1177.5998' y='3729.3805'>reports/default.py</text></g><g class='participant participant-head' data-participant='Builder'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='97.5476' x='1303.7826' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='1340.7123' y='53.484'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='83.5476' x='1310.7826' y='69.8281'>ReportBuilder</text></g><g class='participant participant-tail' data-participant='Builder'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='97.5476' x='1303.7826' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='1340.7123' y='3713.0364'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='83.5476' x='1310.7826' y='3729.3805'>ReportBuilder</text></g><g class='participant participant-head' data-participant='Checks'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='123.4677' x='1519.3719' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1533.3214' y='53.484'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='109.4677' x='1526.3719' y='69.8281'>checks/check_*.py</text></g><g class='participant participant-tail' data-participant='Checks'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='123.4677' x='1519.3719' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1533.3214' y='3713.0364'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='109.4677' x='1526.3719' y='3729.3805'>checks/check_*.py</text></g><g class='participant participant-head' data-participant='Rules'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='1652.8396' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1659.8396' y='53.484'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='70.2965' x='1672.4757' y='69.8281'>rules/*.json</text></g><g class='participant participant-tail' data-participant='Rules'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='109.5687' x='1652.8396' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5687' x='1659.8396' y='3713.0364'>plugins/postgres</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='70.2965' x='1672.4757' y='3729.3805'>rules/*.json</text></g><g class='participant participant-head' data-participant='PromptGen'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='180.4771' x='1772.4083' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='1850.8028' y='53.484'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='166.4771' x='1779.4083' y='69.8281'>dynamic_prompt_generator</text></g><g class='participant participant-tail' data-participant='PromptGen'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='180.4771' x='1772.4083' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='1850.8028' y='3713.0364'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='166.4771' x='1779.4083' y='3729.3805'>dynamic_prompt_generator</text></g><g class='participant participant-head' data-participant='AI'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='143.4509' x='1998.1667' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='2058.048' y='53.484'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='129.4509' x='2005.1667' y='69.8281'>run_recommendation</text></g><g class='participant participant-tail' data-participant='AI'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='143.4509' x='1998.1667' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='23.6882' x='2058.048' y='3713.0364'>utils</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='129.4509' x='2005.1667' y='3729.3805'>run_recommendation</text></g><g class='participant participant-head' data-participant='Shipper'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='106.9766' x='2151.6175' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='92.9766' x='2158.6175' y='53.484'>output_handlers</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='83.7996' x='2163.2061' y='69.8281'>trend_shipper</text></g><g class='participant participant-tail' data-participant='Shipper'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='106.9766' x='2151.6175' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='92.9766' x='2158.6175' y='3713.0364'>output_handlers</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='83.7996' x='2163.2061' y='3729.3805'>trend_shipper</text></g><g class='participant participant-head' data-participant='TrendsDB'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='79.9525' x='2435.0433' y='33.6559'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='65.9525' x='2442.0433' y='53.484'>PostgreSQL</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='61.6204' x='2444.2093' y='69.8281'>Trends DB</text></g><g class='participant participant-tail' data-participant='TrendsDB'><rect fill='#E2E2F0' height='46.6882' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='79.9525' x='2435.0433' y='3693.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='65.9525' x='2442.0433' y='3713.0364'>PostgreSQL</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='61.6204' x='2444.2093' y='3729.3805'>Trends DB</text></g><g><title>main.py</title><rect fill='#FFFFFF' height='3501.8319' style='stroke:#181818;stroke-width:1;' width='10' x='314.572' y='174.3765'/></g><g><title>main.py</title><rect fill='#FFFFFF' height='273.097' style='stroke:#181818;stroke-width:1;' width='10' x='319.572' y='2661.7555'/></g><g><title>config.yaml</title><rect fill='#FFFFFF' height='79.3765' style='stroke:#181818;stroke-width:1;' width='10' x='605.5937' y='204.7206'/></g><g><title>discover_plugins()</title><rect fill='#FFFFFF' height='160.0647' style='stroke:#181818;stroke-width:1;' width='10' x='712.8683' y='314.4411'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='3287.7349' style='stroke:#181818;stroke-width:1;' width='10' x='916.1775' y='397.4735'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='339.8499' style='stroke:#181818;stroke-width:1;' width='10' x='921.1775' y='1537.9263'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='73.6882' style='stroke:#181818;stroke-width:1;' width='10' x='1057.4942' y='535.1941'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='1057.4942' y='1170.141'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='1227.1912' y='699.9146'/></g><g><title>utils</title><rect fill='#FFFFFF' height='611.6029' style='stroke:#181818;stroke-width:1;' width='10' x='1347.5563' y='851.6352'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='209.097' style='stroke:#181818;stroke-width:1;' width='10' x='1576.1058' y='1021.7322'/></g><g><title>plugins/postgres</title><rect fill='#FFFFFF' height='279.1617' style='stroke:#181818;stroke-width:1;' width='10' x='1702.624' y='1568.2704'/></g><g><title>utils</title><rect fill='#FFFFFF' height='175.4088' style='stroke:#181818;stroke-width:1;' width='10' x='1857.6469' y='1957.1527'/></g><g><title>utils</title><rect fill='#FFFFFF' height='159.0647' style='stroke:#181818;stroke-width:1;' width='10' x='2064.8921' y='2326.3144'/></g><g><title>output_handlers</title><rect fill='#FFFFFF' height='412.1941' style='stroke:#181818;stroke-width:1;' width='10' x='2200.1058' y='3210.3261'/></g><g><title>PostgreSQL</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='2470.0195' y='3434.7672'/></g><g><title>PostgreSQL</title><rect fill='#FFFFFF' height='30.3441' style='stroke:#181818;stroke-width:1;' width='10' x='2470.0195' y='3554.8319'/></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='112.5162'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='112.5162' y2='112.5162'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='115.5162' y2='115.5162'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='144.6479' x='1200.174' y='101.3441'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='127.5278' x='1206.174' y='118.1722'>Phase 1: Initialization</text><g class='message' data-participant-1='User' data-participant-2='Main'><polygon fill='#181818' points='302.572,170.3765,312.572,174.3765,302.572,178.3765,306.572,174.3765' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='21.1221' x2='308.572' y1='174.3765' y2='174.3765'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='88.2246' x='123.7347' y='152.5163'>python main.py</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='165.3492' x='85.1724' y='168.8604'>--config config/postgres.yaml</text></g><g class='message' data-participant-1='Main' data-participant-2='Config'><polygon fill='#181818' points='593.5937,200.7206,603.5937,204.7206,593.5937,208.7206,597.5937,204.7206' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='599.5937' y1='204.7206' y2='204.7206'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='81.8166' x='424.1745' y='199.2045'>load_settings()</text></g><g class='message' data-participant-1='Config' data-participant-2='Main'><polygon fill='#181818' points='335.572,280.097,325.572,284.097,335.572,288.097,331.572,284.097' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='609.5937' y1='284.097' y2='284.097'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='68.5085' x='433.3286' y='229.5487'>settings dict</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='113.7728' x='410.6964' y='245.8928'>{db_type: 'postgres',</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='90.6846' x='422.2405' y='262.2369'>ai_analyze: true,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='164.5932' x='385.2863' y='278.581'>trend_storage_enabled: true}</text></g><g class='message' data-participant-1='Main' data-participant-2='Discovery'><polygon fill='#181818' points='700.8683,310.4411,710.8683,314.4411,700.8683,318.4411,704.8683,314.4411' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='706.8683' y1='314.4411' y2='314.4411'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='101.1247' x='468.1578' y='308.9251'>discover_plugins()</text></g><path d='M727,327.4411 L727,369.4411 L929,369.4411 L929,337.4411 L919,327.4411 L727,327.4411' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M919,327.4411 L919,337.4411 L929,337.4411 L919,327.4411' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.109' x='733' y='345.2692'>Scans plugins/ directory</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='181.5253' x='733' y='361.6133'>Looks for BasePlugin subclasses</text><g class='message' data-participant-1='Discovery' data-participant-2='Plugin'><polygon fill='#181818' points='904.1775,393.4735,914.1775,397.4735,904.1775,401.4735,908.1775,397.4735' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='722.8683' x2='910.1775' y1='397.4735' y2='397.4735'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='113.2688' x='762.8885' y='391.9575'>import &amp; instantiate</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Discovery'><polygon fill='#181818' points='733.8683,440.1617,723.8683,444.1617,733.8683,448.1617,729.8683,444.1617' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='727.8683' x2='915.1775' y1='444.1617' y2='444.1617'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='88.3806' x='775.3326' y='422.3016'>plugin_instance</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='169.3092' x='734.8683' y='438.6457'>(technology_name='postgres')</text></g><g class='message' data-participant-1='Discovery' data-participant-2='Main'><polygon fill='#181818' points='335.572,470.5058,325.572,474.5058,335.572,478.5058,331.572,474.5058' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='716.8683' y1='474.5058' y2='474.5058'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='150.1451' x='446.1476' y='468.9898'>{postgres: PostgresPlugin}</text></g><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='904.1775,500.8499,914.1775,504.8499,904.1775,508.8499,908.1775,504.8499' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='910.1775' y1='504.8499' y2='504.8499'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='132.7569' x='553.9962' y='499.3339'>get_connector(settings)</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Connector'><polygon fill='#181818' points='1045.4942,531.1941,1055.4942,535.1941,1045.4942,539.1941,1049.4942,535.1941' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='926.1775' x2='1051.4942' y1='535.1941' y2='535.1941'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' text-decoration='underline' textLength='17.9401' x='956.8556' y='529.678'>init</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='52.0204' x='974.7957' y='529.678'>(settings)</text></g><g class='message' data-participant-1='Connector' data-participant-2='Connector'><line style='stroke:#181818;stroke-width:1;' x1='1067.4942' x2='1109.4942' y1='565.5382' y2='565.5382'/><line style='stroke:#181818;stroke-width:1;' x1='1109.4942' x2='1109.4942' y1='565.5382' y2='578.5382'/><line style='stroke:#181818;stroke-width:1;' x1='1068.4942' x2='1109.4942' y1='578.5382' y2='578.5382'/><polygon fill='#181818' points='1078.4942,574.5382,1068.4942,578.5382,1078.4942,582.5382,1074.4942,578.5382' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.697' x='1074.4942' y='560.0221'>connect() to PostgreSQL</text></g><g class='message' data-participant-1='Connector' data-participant-2='Plugin'><polygon fill='#181818' points='937.1775,604.8823,927.1775,608.8823,937.1775,612.8823,933.1775,608.8823' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='931.1775' x2='1061.4942' y1='608.8823' y2='608.8823'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='107.3168' x='940.6775' y='603.3663'>connector instance</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='335.572,635.2264,325.572,639.2264,335.572,643.2264,331.572,639.2264' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='915.1775' y1='639.2264' y2='639.2264'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='56.9284' x='591.9105' y='633.7104'>connector</text></g><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='904.1775,665.5705,914.1775,669.5705,904.1775,673.5705,908.1775,669.5705' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='910.1775' y1='669.5705' y2='669.5705'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='156.5411' x='542.1041' y='664.0545'>get_report_definition(None)</text></g><g class='message' data-participant-1='Plugin' data-participant-2='ReportDef'><polygon fill='#181818' points='1215.1912,695.9146,1225.1912,699.9146,1215.1912,703.9146,1219.1912,699.9146' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='926.1775' x2='1221.1912' y1='699.9146' y2='699.9146'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='134.4849' x='1009.4419' y='694.3986'>load REPORT_SECTIONS</text></g><g class='message' data-participant-1='ReportDef' data-participant-2='Plugin'><polygon fill='#181818' points='937.1775,726.2587,927.1775,730.2587,937.1775,734.2587,933.1775,730.2587' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='931.1775' x2='1231.1912' y1='730.2587' y2='730.2587'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='106.5008' x='1025.9339' y='724.7427'>report_sections list</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='335.572,756.6029,325.572,760.6029,335.572,764.6029,331.572,760.6029' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='915.1775' y1='760.6029' y2='760.6029'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='87.1086' x='576.8204' y='755.0868'>report_sections</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='789.7749'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='789.7749' y2='789.7749'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='792.7749' y2='792.7749'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='163.2' x='1190.8979' y='778.6029'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='146.08' x='1196.8979' y='795.4309'>Phase 2: Report Building</text><g class='message' data-participant-1='Main' data-participant-2='Builder'><polygon fill='#181818' points='1335.5563,847.6352,1345.5563,851.6352,1335.5563,855.6352,1339.5563,851.6352' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='1341.5563' y1='851.6352' y2='851.6352'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='193.5734' x='739.2775' y='829.7751'>ReportBuilder(connector, settings,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='170.9412' x='750.5935' y='846.1192'>report_sections, active_plugin)</text></g><path d='M977.7099,866.6352 L1049.2061,866.6352 L1049.2061,874.9793 L1039.2061,884.9793 L977.7099,884.9793 L977.7099,866.6352' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='550.9146' style='stroke:#000000;stroke-width:1.5;' width='801.7991' x='977.7099' y='866.6352'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='26.4962' x='992.7099' y='880.4633'>loop</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='213.7725' x='1064.2061' y='881.4633'>[for each section in report_sections]</text><g class='message' data-participant-1='Builder' data-participant-2='Builder'><line style='stroke:#181818;stroke-width:1;' x1='1357.5563' x2='1399.5563' y1='908.6675' y2='908.6675'/><line style='stroke:#181818;stroke-width:1;' x1='1399.5563' x2='1399.5563' y1='908.6675' y2='921.6675'/><line style='stroke:#181818;stroke-width:1;' x1='1358.5563' x2='1399.5563' y1='921.6675' y2='921.6675'/><polygon fill='#181818' points='1368.5563,917.6675,1358.5563,921.6675,1368.5563,925.6675,1364.5563,921.6675' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='136.909' x='1364.5563' y='903.1515'>process_section(section)</text></g><path d='M987.7099,936.6675 L1059.2061,936.6675 L1059.2061,945.0117 L1049.2061,955.0117 L987.7099,955.0117 L987.7099,936.6675' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='473.8823' style='stroke:#000000;stroke-width:1.5;' width='781.7991' x='987.7099' y='936.6675'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='26.4962' x='1002.7099' y='950.4956'>loop</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='204.4454' x='1074.2061' y='951.4956'>[for each action in section.actions]</text><path d='M997.7099,963.3558 L1057.995,963.3558 L1057.995,971.6999 L1047.995,981.6999 L997.7099,981.6999 L997.7099,963.3558' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='440.1941' style='stroke:#000000;stroke-width:1.5;' width='761.7991' x='997.7099' y='963.3558'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='15.2851' x='1012.7099' y='977.1839'>alt</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='147.442' x='1072.995' y='978.1839'>[action.type == 'module']</text><g class='message' data-participant-1='Builder' data-participant-2='Checks'><polygon fill='#181818' points='1564.1058,1017.7322,1574.1058,1021.7322,1564.1058,1025.7322,1568.1058,1021.7322' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1357.5563' x2='1570.1058' y1='1021.7322' y2='1021.7322'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='71.9525' x='1430.8548' y='999.8721'>import &amp; call</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='199.5494' x='1367.0563' y='1016.2162'>check_function(connector, settings)</text></g><path d='M1591,1034.7322 L1591,1142.7322 L1749,1142.7322 L1749,1044.7322 L1739,1034.7322 L1591,1034.7322' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M1739,1034.7322 L1739,1044.7322 L1749,1044.7322 L1739,1034.7322' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='137.5089' x='1597' y='1052.5603'>Example: check_bloat.py</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='3.12' x='1597' y='1068.9044'>&#160;</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='116.9048' x='1597' y='1085.2485'>1. Query PostgreSQL</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='97.8247' x='1597' y='1101.5927'>2. Analyze results</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='104.1967' x='1597' y='1117.9368'>3. Format AsciiDoc</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.649' x='1597' y='1134.2809'>4. Build structured JSON</text><g class='message' data-participant-1='Checks' data-participant-2='Connector'><polygon fill='#181818' points='1078.4942,1166.141,1068.4942,1170.141,1078.4942,1174.141,1074.4942,1170.141' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1072.4942' x2='1575.1058' y1='1170.141' y2='1170.141'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='105.5527' x='1269.0236' y='1164.625'>execute_query(sql)</text></g><g class='message' data-participant-1='Connector' data-participant-2='Checks'><polygon fill='#181818' points='1564.1058,1196.4851,1574.1058,1200.4851,1564.1058,1204.4851,1568.1058,1200.4851' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1062.4942' x2='1570.1058' y1='1200.4851' y2='1200.4851'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='73.8245' x='1282.3877' y='1194.9691'>query results</text></g><g class='message' data-participant-1='Checks' data-participant-2='Builder'><polygon fill='#181818' points='1368.5563,1226.8293,1358.5563,1230.8293,1368.5563,1234.8293,1364.5563,1230.8293' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1362.5563' x2='1580.1058' y1='1230.8293' y2='1230.8293'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='178.8492' x='1379.9064' y='1225.3132'>(adoc_content, structured_data)</text></g><g class='message' data-participant-1='Builder' data-participant-2='Builder'><line style='stroke:#181818;stroke-width:1;' x1='1357.5563' x2='1399.5563' y1='1261.1734' y2='1261.1734'/><line style='stroke:#181818;stroke-width:1;' x1='1399.5563' x2='1399.5563' y1='1261.1734' y2='1274.1734'/><line style='stroke:#181818;stroke-width:1;' x1='1358.5563' x2='1399.5563' y1='1274.1734' y2='1274.1734'/><polygon fill='#181818' points='1368.5563,1270.1734,1358.5563,1274.1734,1368.5563,1278.1734,1364.5563,1274.1734' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='121.9208' x='1364.5563' y='1255.6573'>append adoc_content</text></g><g class='message' data-participant-1='Builder' data-participant-2='Builder'><line style='stroke:#181818;stroke-width:1;' x1='1357.5563' x2='1399.5563' y1='1320.8616' y2='1320.8616'/><line style='stroke:#181818;stroke-width:1;' x1='1399.5563' x2='1399.5563' y1='1320.8616' y2='1333.8616'/><line style='stroke:#181818;stroke-width:1;' x1='1358.5563' x2='1399.5563' y1='1333.8616' y2='1333.8616'/><polygon fill='#181818' points='1368.5563,1329.8616,1358.5563,1333.8616,1368.5563,1337.8616,1364.5563,1333.8616' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='121.7529' x='1374.6484' y='1299.0015'>store structured_data</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='141.937' x='1364.5563' y='1315.3456'>in all_structured_findings</text></g><line style='stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='997.7099' x2='1759.5089' y1='1342.8616' y2='1342.8616'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='192.9583' x='1002.7099' y='1355.6897'>[action.type == 'header' or 'text']</text><g class='message' data-participant-1='Builder' data-participant-2='Builder'><line style='stroke:#181818;stroke-width:1;' x1='1357.5563' x2='1399.5563' y1='1382.5498' y2='1382.5498'/><line style='stroke:#181818;stroke-width:1;' x1='1399.5563' x2='1399.5563' y1='1382.5498' y2='1395.5498'/><line style='stroke:#181818;stroke-width:1;' x1='1358.5563' x2='1399.5563' y1='1395.5498' y2='1395.5498'/><polygon fill='#181818' points='1368.5563,1391.5498,1358.5563,1395.5498,1368.5563,1399.5498,1364.5563,1395.5498' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='91.9927' x='1364.5563' y='1377.0338'>render template</text></g><g class='message' data-participant-1='Builder' data-participant-2='Main'><polygon fill='#181818' points='335.572,1459.2381,325.572,1463.2381,335.572,1467.2381,331.572,1463.2381' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='1351.5563' y1='1463.2381' y2='1463.2381'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='75.7445' x='800.6919' y='1441.3779'>adoc_content</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='128.3049' x='774.4117' y='1457.722'>all_structured_findings</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='1492.4101'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='1492.4101' y2='1492.4101'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='1495.4101' y2='1495.4101'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='170.6191' x='1187.1884' y='1481.2381'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='153.4991' x='1193.1884' y='1498.0661'>Phase 3: Rules Processing</text><g class='message' data-participant-1='Main' data-participant-2='Plugin'><polygon fill='#181818' points='909.1775,1533.9263,919.1775,1537.9263,909.1775,1541.9263,913.1775,1537.9263' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='915.1775' y1='1537.9263' y2='1537.9263'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='99.3607' x='573.1944' y='1532.4103'>get_rules_config()</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Rules'><polygon fill='#181818' points='1690.624,1564.2704,1700.624,1568.2704,1690.624,1572.2704,1694.624,1568.2704' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='931.1775' x2='1696.624' y1='1568.2704' y2='1568.2704'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='107.2568' x='1263.2723' y='1562.7544'>load JSON rule files</text></g><path d='M1717,1581.2704 L1717,1819.2704 L1985,1819.2704 L1985,1591.2704 L1975,1581.2704 L1717,1581.2704' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M1975,1581.2704 L1975,1591.2704 L1985,1591.2704 L1975,1581.2704' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='132.409' x='1723' y='1599.0985'>Rules define thresholds</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='131.1969' x='1723' y='1615.4426'>and recommendations:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='3.12' x='1723' y='1631.7867'>&#160;</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='4.56' x='1723' y='1648.1308'>{</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='88.8726' x='1729.2401' y='1664.4749'>"bloat_tables": {</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='161.3652' x='1735.4801' y='1680.8191'>"metric_keywords": ["bloat"],</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='52.6204' x='1735.4801' y='1697.1632'>"rules": [{</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='228.5296' x='1741.7202' y='1713.5073'>"expression": "data.get('bloat_pct') &gt; 20",</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='80.2686' x='1741.7202' y='1729.8514'>"level": "high",</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.5567' x='1741.7202' y='1746.1955'>"reasoning": "...",</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='137.005' x='1741.7202' y='1762.5396'>"recommendations": [...]</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='8.5081' x='1735.4801' y='1778.8837'>}]</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='4.56' x='1729.2401' y='1795.2279'>}</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='4.56' x='1723' y='1811.572'>}</text><g class='message' data-participant-1='Rules' data-participant-2='Plugin'><polygon fill='#181818' points='942.1775,1843.4321,932.1775,1847.4321,942.1775,1851.4321,938.1775,1847.4321' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='936.1775' x2='1706.624' y1='1847.4321' y2='1847.4321'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='92.0407' x='1273.3804' y='1841.9161'>rules_config dict</text></g><g class='message' data-participant-1='Plugin' data-participant-2='Main'><polygon fill='#181818' points='335.572,1873.7762,325.572,1877.7762,335.572,1881.7762,331.572,1877.7762' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='915.1775' y1='1877.7762' y2='1877.7762'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='68.3525' x='586.1985' y='1872.2602'>rules_config</text></g><g class='message' data-participant-1='Main' data-participant-2='PromptGen'><polygon fill='#181818' points='1845.6469,1953.1527,1855.6469,1957.1527,1845.6469,1961.1527,1849.6469,1957.1527' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='1851.6469' y1='1957.1527' y2='1957.1527'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='155.6291' x='1013.2949' y='1902.6043'>generate_dynamic_prompt(</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='131.5209' x='1025.3489' y='1918.9484'>all_structured_findings,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='71.5685' x='1055.3252' y='1935.2925'>rules_config,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='48.4203' x='1066.8992' y='1951.6367'>settings)</text></g><g class='message' data-participant-1='PromptGen' data-participant-2='PromptGen'><line style='stroke:#181818;stroke-width:1;' x1='1867.6469' x2='1909.6469' y1='1987.4968' y2='1987.4968'/><line style='stroke:#181818;stroke-width:1;' x1='1909.6469' x2='1909.6469' y1='1987.4968' y2='2000.4968'/><line style='stroke:#181818;stroke-width:1;' x1='1868.6469' x2='1909.6469' y1='2000.4968' y2='2000.4968'/><polygon fill='#181818' points='1878.6469,1996.4968,1868.6469,2000.4968,1878.6469,2004.4968,1874.6469,2000.4968' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='173.2452' x='1874.6469' y='1981.9808'>_process_findings_recursively()</text></g><path d='M1872,2013.4968 L1872,2104.4968 L2068,2104.4968 L2068,2023.4968 L2058,2013.4968 L1872,2013.4968' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M2058,2013.4968 L2058,2023.4968 L2068,2023.4968 L2058,2013.4968' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='94.4887' x='1878' y='2031.3249'>For each finding:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='175.4292' x='1878' y='2047.669'>1. Match against rule keywords</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='156.7571' x='1878' y='2064.0131'>2. Evaluate rule expressions</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='138.337' x='1878' y='2080.3572'>3. Collect triggered rules</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='172.5132' x='1878' y='2096.7013'>4. Build severity-based prompt</text><g class='message' data-participant-1='PromptGen' data-participant-2='Main'><polygon fill='#181818' points='335.572,2128.5615,325.572,2132.5615,335.572,2136.5615,331.572,2132.5615' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='1861.6469' y1='2132.5615' y2='2132.5615'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='169.5012' x='1008.8588' y='2127.0455'>(prompt_text, triggered_rules)</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='366.572' y1='2179.2497' y2='2179.2497'/><line style='stroke:#181818;stroke-width:1;' x1='366.572' x2='366.572' y1='2179.2497' y2='2192.2497'/><line style='stroke:#181818;stroke-width:1;' x1='325.572' x2='366.572' y1='2192.2497' y2='2192.2497'/><polygon fill='#181818' points='335.572,2188.2497,325.572,2192.2497,335.572,2196.2497,331.572,2192.2497' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='118.5129' x='331.572' y='2157.3896'>store triggered_rules</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='101.7847' x='339.9361' y='2173.7337'>in analysis_output</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='2221.4218'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='2221.4218' y2='2221.4218'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='2224.4218' y2='2224.4218'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='196.9742' x='1174.0108' y='2210.2497'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='179.8542' x='1180.0108' y='2227.0778'>Phase 4: AI Analysis (Optional)</text><path d='M264.9232,2251.5938 L325.2083,2251.5938 L325.2083,2259.9379 L315.2083,2269.9379 L264.9232,2269.9379 L264.9232,2251.5938' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='328.4735' style='stroke:#000000;stroke-width:1.5;' width='2000.5979' x='264.9232' y='2251.5938'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='15.2851' x='279.9232' y='2265.4219'>alt</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='167.1581' x='340.2083' y='2266.4219'>[settings.ai_analyze == true]</text><g class='message' data-participant-1='Main' data-participant-2='AI'><polygon fill='#181818' points='2052.8921,2322.3144,2062.8921,2326.3144,2052.8921,2330.3144,2056.8921,2326.3144' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='2058.8921' y1='2326.3144' y2='2326.3144'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='126.3009' x='1131.5816' y='2288.1101'>run_recommendation(</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='72.8525' x='1158.3058' y='2304.4543'>prompt_text,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='48.4203' x='1170.5219' y='2320.7984'>settings)</text></g><path d='M2079,2339.3144 L2079,2414.3144 L2255,2414.3144 L2255,2349.3144 L2245,2339.3144 L2079,2339.3144' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M2245,2339.3144 L2245,2349.3144 L2255,2349.3144 L2245,2339.3144' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='97.4767' x='2085' y='2357.1425'>Sends prompt to:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='55.5484' x='2085' y='2373.4866'>- xAI Grok</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='49.6564' x='2085' y='2389.8307'>- OpenAI</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='155.5211' x='2085' y='2406.1748'>- Other configured provider</text><g class='message' data-participant-1='AI' data-participant-2='AI'><line style='stroke:#181818;stroke-width:1;' x1='2074.8921' x2='2116.8921' y1='2442.035' y2='2442.035'/><line style='stroke:#181818;stroke-width:1;' x1='2116.8921' x2='2116.8921' y1='2442.035' y2='2455.035'/><line style='stroke:#181818;stroke-width:1;' x1='2075.8921' x2='2116.8921' y1='2455.035' y2='2455.035'/><polygon fill='#181818' points='2085.8921,2451.035,2075.8921,2455.035,2085.8921,2459.035,2081.8921,2455.035' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='55.6564' x='2081.8921' y='2436.5189'>call AI API</text></g><g class='message' data-participant-1='AI' data-participant-2='Main'><polygon fill='#181818' points='335.572,2481.3791,325.572,2485.3791,335.572,2489.3791,331.572,2485.3791' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='2068.8921' y1='2485.3791' y2='2485.3791'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='94.3087' x='1150.0777' y='2479.8631'>ai_response_text</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='366.572' y1='2515.7232' y2='2515.7232'/><line style='stroke:#181818;stroke-width:1;' x1='366.572' x2='366.572' y1='2515.7232' y2='2528.7232'/><line style='stroke:#181818;stroke-width:1;' x1='325.572' x2='366.572' y1='2528.7232' y2='2528.7232'/><polygon fill='#181818' points='335.572,2524.7232,325.572,2528.7232,335.572,2532.7232,331.572,2528.7232' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='158.3411' x='331.572' y='2510.2072'>append ai_response to adoc</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='366.572' y1='2559.0673' y2='2559.0673'/><line style='stroke:#181818;stroke-width:1;' x1='366.572' x2='366.572' y1='2559.0673' y2='2572.0673'/><line style='stroke:#181818;stroke-width:1;' x1='325.572' x2='366.572' y1='2572.0673' y2='2572.0673'/><polygon fill='#181818' points='335.572,2568.0673,325.572,2572.0673,335.572,2576.0673,331.572,2572.0673' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='204.2895' x='331.572' y='2553.5513'>store ai_response in analysis_output</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='2608.2394'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='2608.2394' y2='2608.2394'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='2611.2394' y2='2611.2394'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='182.8381' x='1181.0788' y='2597.0673'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='165.7181' x='1187.0788' y='2613.8954'>Phase 5: Output Generation</text><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='371.572' y1='2648.7555' y2='2648.7555'/><line style='stroke:#181818;stroke-width:1;' x1='371.572' x2='371.572' y1='2648.7555' y2='2661.7555'/><line style='stroke:#181818;stroke-width:1;' x1='330.572' x2='371.572' y1='2661.7555' y2='2661.7555'/><polygon fill='#181818' points='340.572,2657.7555,330.572,2661.7555,340.572,2665.7555,336.572,2661.7555' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='79.2486' x='336.572' y='2643.2395'>write_output()</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='329.572' x2='371.572' y1='2697.0997' y2='2697.0997'/><line style='stroke:#181818;stroke-width:1;' x1='371.572' x2='371.572' y1='2697.0997' y2='2710.0997'/><line style='stroke:#181818;stroke-width:1;' x1='330.572' x2='371.572' y1='2710.0997' y2='2710.0997'/><polygon fill='#181818' points='340.572,2706.0997,330.572,2710.0997,340.572,2714.0997,336.572,2710.0997' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.3009' x='336.572' y='2691.5836'>sanitize company_name</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='329.572' x2='371.572' y1='2756.7879' y2='2756.7879'/><line style='stroke:#181818;stroke-width:1;' x1='371.572' x2='371.572' y1='2756.7879' y2='2769.7879'/><line style='stroke:#181818;stroke-width:1;' x1='330.572' x2='371.572' y1='2769.7879' y2='2769.7879'/><polygon fill='#181818' points='340.572,2765.7879,330.572,2769.7879,340.572,2773.7879,336.572,2769.7879' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='130.3209' x='336.572' y='2734.9277'>create output directory</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='121.4048' x='341.03' y='2751.2719'>adoc_out/{company}/</text></g><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='329.572' x2='371.572' y1='2800.132' y2='2800.132'/><line style='stroke:#181818;stroke-width:1;' x1='371.572' x2='371.572' y1='2800.132' y2='2813.132'/><line style='stroke:#181818;stroke-width:1;' x1='330.572' x2='371.572' y1='2813.132' y2='2813.132'/><polygon fill='#181818' points='340.572,2809.132,330.572,2813.132,340.572,2817.132,336.572,2813.132' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.2529' x='336.572' y='2794.616'>write health_check.adoc</text></g><path d='M334,2826.132 L334,2901.132 L494,2901.132 L494,2836.132 L484,2826.132 L334,2826.132' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M484,2826.132 L484,2836.132 L494,2836.132 L484,2826.132' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='139.489' x='340' y='2843.9601'>Full AsciiDoc report with:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='97.2607' x='340' y='2860.3042'>- All check results</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='132.7329' x='340' y='2876.6483'>- AI analysis (if enabled)</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='60.8764' x='340' y='2892.9924'>- Metadata</text><g class='message' data-participant-1='Main' data-participant-2='Main'><line style='stroke:#181818;stroke-width:1;' x1='329.572' x2='371.572' y1='2933.8526' y2='2933.8526'/><line style='stroke:#181818;stroke-width:1;' x1='371.572' x2='371.572' y1='2933.8526' y2='2946.8526'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='371.572' y1='2946.8526' y2='2946.8526'/><polygon fill='#181818' points='334.572,2942.8526,324.572,2946.8526,334.572,2950.8526,330.572,2946.8526' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='247.0217' x='336.572' y='2928.3365'>write structured_health_check_findings.json</text></g><path d='M329,2954.8526 L329,3045.8526 L485,3045.8526 L485,2964.8526 L475,2954.8526 L329,2954.8526' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M475,2954.8526 L475,2964.8526 L485,2964.8526 L475,2954.8526' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='116.4968' x='335' y='2972.6807'>Complete JSON with:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='135.289' x='335' y='2989.0248'>- all_structured_findings</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='95.1367' x='335' y='3005.3689'>- analysis_output</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='93.3127' x='335' y='3021.713'>- triggered_rules</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='61.2124' x='335' y='3038.0571'>- metadata</text><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='2544.9958' x='0' y='3072.7452'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='3072.7452' y2='3072.7452'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='2544.9958' y1='3075.7452' y2='3075.7452'/><rect fill='#EEEEEE' height='24.3441' style='stroke:#000000;stroke-width:2;' width='223.6834' x='1160.6562' y='3061.5731'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='206.5634' x='1166.6562' y='3078.4012'>Phase 6: Trend Shipping (Optional)</text><path d='M264.9232,3102.9173 L325.2083,3102.9173 L325.2083,3111.2614 L315.2083,3121.2614 L264.9232,3121.2614 L264.9232,3102.9173' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='527.6029' style='stroke:#000000;stroke-width:1.5;' width='2270.0726' x='264.9232' y='3102.9173'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='15.2851' x='279.9232' y='3116.7453'>alt</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='243.8476' x='340.2083' y='3117.7453'>[settings.trend_storage_enabled == true]</text><g class='message' data-participant-1='Main' data-participant-2='Shipper'><polygon fill='#181818' points='2188.1058,3206.3261,2198.1058,3210.3261,2188.1058,3214.3261,2192.1058,3210.3261' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='324.572' x2='2194.1058' y1='3210.3261' y2='3210.3261'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='136.2729' x='1194.2024' y='3139.4336'>ship_health_check_data(</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='48.0363' x='1238.3207' y='3155.7777'>settings,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='131.5209' x='1196.5784' y='3172.1218'>all_structured_findings,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='78.9605' x='1222.8586' y='3188.4659'>adoc_content,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='91.7526' x='1216.4626' y='3204.81'>analysis_output)</text></g><g class='message' data-participant-1='Shipper' data-participant-2='Shipper'><line style='stroke:#181818;stroke-width:1;' x1='2210.1058' x2='2252.1058' y1='3240.6702' y2='3240.6702'/><line style='stroke:#181818;stroke-width:1;' x1='2252.1058' x2='2252.1058' y1='3240.6702' y2='3253.6702'/><line style='stroke:#181818;stroke-width:1;' x1='2211.1058' x2='2252.1058' y1='3253.6702' y2='3253.6702'/><polygon fill='#181818' points='2221.1058,3249.6702,2211.1058,3253.6702,2221.1058,3257.6702,2217.1058,3253.6702' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='173.0772' x='2217.1058' y='3235.1541'>prepare_health_check_record()</text></g><path d='M2215,3266.6702 L2215,3406.6702 L2391,3406.6702 L2391,3276.6702 L2381,3266.6702 L2215,3266.6702' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M2381,3266.6702 L2381,3276.6702 L2391,3276.6702 L2381,3266.6702' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='99.6007' x='2221' y='3284.4983'>Build record with:</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='96.3367' x='2221' y='3300.8424'>- company_name</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='89.8806' x='2221' y='3317.1865'>- db_technology</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='92.9286' x='2221' y='3333.5306'>- run_timestamp</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='155.7131' x='2221' y='3349.8747'>- structured_findings (JSON)</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='102.2047' x='2221' y='3366.2188'>- adoc_report_text</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='93.3127' x='2221' y='3382.5629'>- triggered_rules</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='66.8285' x='2221' y='3398.9071'>- ai_analysis</text><g class='message' data-participant-1='Shipper' data-participant-2='TrendsDB'><polygon fill='#181818' points='2458.0195,3430.7672,2468.0195,3434.7672,2458.0195,3438.7672,2462.0195,3434.7672' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='2210.1058' x2='2464.0195' y1='3434.7672' y2='3434.7672'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='180.1212' x='2250.0021' y='3429.2512'>INSERT INTO health_check_runs</text></g><g class='message' data-participant-1='TrendsDB' data-participant-2='Shipper'><polygon fill='#181818' points='2221.1058,3461.1113,2211.1058,3465.1113,2221.1058,3469.1113,2217.1058,3465.1113' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='2215.1058' x2='2474.0195' y1='3465.1113' y2='3465.1113'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='35.5922' x='2324.7666' y='3459.5953'>run_id</text></g><path d='M2141.6175,3480.1113 L2213.1137,3480.1113 L2213.1137,3488.4554 L2203.1137,3498.4554 L2141.6175,3498.4554 L2141.6175,3480.1113' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='113.0647' style='stroke:#000000;stroke-width:1.5;' width='383.3783' x='2141.6175' y='3480.1113'/><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='26.4962' x='2156.6175' y='3493.9394'>loop</text><text fill='#000000' font-family='sans-serif' font-size='12' font-weight='bold' lengthAdjust='spacing' textLength='146.362' x='2228.1137' y='3494.9394'>[for each triggered_rule]</text><g class='message' data-participant-1='Shipper' data-participant-2='TrendsDB'><polygon fill='#181818' points='2458.0195,3550.8319,2468.0195,3554.8319,2458.0195,3558.8319,2462.0195,3554.8319' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='2210.1058' x2='2464.0195' y1='3554.8319' y2='3554.8319'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='240.9137' x='2219.6058' y='3516.6276'>INSERT INTO health_check_triggered_rules</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='158.6651' x='2260.7301' y='3532.9717'>(run_id, rule_name, severity,</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='170.0412' x='2255.0421' y='3549.3159'>reasoning, recommendations)</text></g><g class='message' data-participant-1='TrendsDB' data-participant-2='Shipper'><polygon fill='#181818' points='2221.1058,3581.176,2211.1058,3585.176,2221.1058,3589.176,2217.1058,3585.176' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='2215.1058' x2='2474.0195' y1='3585.176' y2='3585.176'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='16.8001' x='2334.1626' y='3579.66'>OK</text></g><g class='message' data-participant-1='Shipper' data-participant-2='Main'><polygon fill='#181818' points='335.572,3618.5201,325.572,3622.5201,335.572,3626.5201,331.572,3622.5201' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='329.572' x2='2204.1058' y1='3622.5201' y2='3622.5201'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='42.9483' x='1243.3647' y='3617.0041'>success</text></g><g class='message' data-participant-1='Main' data-participant-2='User'><polygon fill='#181818' points='32.1221,3672.2083,22.1221,3676.2083,32.1221,3680.2083,28.1221,3676.2083' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='26.1221' x2='318.572' y1='3676.2083' y2='3676.2083'/><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='143.293' x='98.7005' y='3654.3482'>&#9989; Health check complete</text><text fill='#000000' font-family='sans-serif' font-size='12' lengthAdjust='spacing' textLength='269.4499' x='35.6221' y='3670.6923'>Report: adoc_out/{company}/health_check.adoc</text></g></g></svg>